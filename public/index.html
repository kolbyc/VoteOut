<!doctype html>
<html>
  <head>
    <title>VoteOut</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
  </head>

  <body>
    <div class="container">
      <div id="login">
        <center>
          <h1>Welcome to VoteOut</h1>
          <p>Login with Spotify to vote on which songs should be in collaborative playlists!</p>
          <button onclick="location.href='/login'" class="playLink">Log in with Spotify</button>
        </center>
      </div>
      <div id="loggedin">
        <div class="top">
          <h1>VoteOut</h1>
        </div>
        <div id="welcome"></div>
        <div id="sidebar"></div>
        <div id="playlistTitle"></div>
        <div id="songs"></div>
      </div>
    </div>

    <script id="welcome-template" type="text/x-handlebars-template">
      <div class="welcomeScreen">
        <center>
          <h1>Welcome {{id}}!</h1>
          <h4>Click on a playlist to start voting on songs!</h4>
        </center>
      </div>
    </script>

    <script id="sidebar-template" type="text/x-handlebars-template">
      <div class="left">
        <h1>Playlists:</h1>
        {{#each items}}
          {{#if this.collaborative}}
            <button class="link" id={{id}} value={{owner.id}}>{{name}}</button></br>
          {{/if}}
        {{/each}}
      </div>
    </script>

    <script id="playlist-title-template" type="text/x-handlebars-template">
      <div class="playlistName">
        <center class="playlistTitle">{{name}}</center>
        <center><input class="playLink" type="button" onclick="window.open('{{external_urls.spotify}}')" value="Open in Spotify"/></center></br></br>
      </div>
    </script>

    <script id="songs-template" type="text/x-handlebars-template">
      <div class="main" id="style-1">
        <table>
          {{#each songs}}
            <tr>
              <td class="upvote">
                &nbsp;&nbsp;{{ups}}
              </td>
              <td class="downvote">
                {{downs}}&nbsp;&nbsp;
              </td>
              <td>
                <h4>{{name}}</h4><h5>{{artist}}</h5>
              </td>
              <td>
                  <button type="button" id={{id}}u value="1" class="btn btn-default {{class}}"><span class="glyphicon glyphicon-thumbs-up"></span></button>&nbsp;
                  <button type="button" id={{id}}d value="-1" class="btn btn-default {{class}}"><span class="glyphicon glyphicon-thumbs-down"></span></button>
              </td>
            </tr>
          {{/each}}
        </table>
      </div>
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="/js/globals.js"></script>
    <script src="/js/loadSongs.js"></script>
    <script src="/js/sidebar.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
